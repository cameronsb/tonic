/* Piano key color variables */
:root {
  /* In-scale colors (purple theme) */
  --key-scale-white: #e0e7fb;
  --key-scale-white-hover: #d0daf8;
  --key-scale-white-pressed: #bfcdf5;
  --key-scale-black: #667eea;
  --key-scale-black-hover: #7e8ff0;
  --key-scale-black-pressed: #5568d3;

  /* In-chord colors (orange theme) */
  --key-chord-white: #fff4e5;
  --key-chord-white-hover: #ffe9cc;
  --key-chord-white-pressed: #ffddb3;
  --key-chord-black: #ff9f40;
  --key-chord-black-hover: #ffb366;
  --key-chord-black-pressed: #ff8c1a;
}

.piano-key {
  position: absolute;
  cursor: pointer;
  user-select: none;
  border-radius: 0 0 4px 4px;
  transition:
    transform 0.05s ease,
    box-shadow 0.05s ease;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: center;
  padding-bottom: 0.5rem;
  border-color: black;
  /* Touch optimizations - tells browser we're handling touch */
  touch-action: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

/* White keys */
.piano-key.white {
  width: var(--white-key-width);
  height: var(--white-key-height);
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.4);
  border-top: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 1;
}

.piano-key.white:hover {
  background: #f9f9f9;
}

.piano-key.white.pressed {
  background: #e8e8e8;
  transform: translateY(2px);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Black keys */
.piano-key.black {
  width: var(--black-key-width);
  height: var(--black-key-height);
  background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
  border: 1px solid #000;
  border-top: none;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
  z-index: 2;
}

.piano-key.black:hover {
  background: linear-gradient(180deg, #3a3a3a 0%, #2a2a2a 100%);
}

.piano-key.black.pressed {
  background: linear-gradient(180deg, #1a1a1a 0%, #0a0a0a 100%);
  transform: translateY(2px);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Scale highlighting */
.piano-key.white.in-scale {
  background: var(--key-scale-white);
}

.piano-key.white.in-scale:hover {
  background: var(--key-scale-white-hover);
}

.piano-key.white.in-scale.pressed {
  background: var(--key-scale-white-pressed);
}

.piano-key.black.in-scale {
  background: var(--key-scale-black);
}

.piano-key.black.in-scale:hover {
  background: var(--key-scale-black-hover);
}

.piano-key.black.in-scale.pressed {
  background: var(--key-scale-black-pressed);
}

/* Chord highlighting */
.piano-key.white.in-chord {
  background: var(--key-chord-white);
}

.piano-key.white.in-chord:hover {
  background: var(--key-chord-white-hover);
}

.piano-key.white.in-chord.pressed {
  background: var(--key-chord-white-pressed);
}

.piano-key.black.in-chord {
  background: var(--key-chord-black);
}

.piano-key.black.in-chord:hover {
  background: var(--key-chord-black-hover);
}

.piano-key.black.in-chord.pressed {
  background: var(--key-chord-black-pressed);
}

/* Key labels */
.key-label {
  display: flex;
  flex-direction: column-reverse;
  align-items: center;
  gap: 0.25rem;
  pointer-events: none;
}

.note-name {
  /* color: #666; */
  color: black;
  font-weight: 500;
  font-size: 14px;
}

.piano-key.in-scale .note-name {
  /* color: #1976d2; */
  color: black;
  font-weight: 600;
}

.piano-key.in-chord .note-name {
  /* color: #667eea; */
  color: black;
  font-weight: 600;
}

.scale-degree {
  /* color: #999; */
  color: black;
  font-size: 14px;
  font-weight: 600;
}

.piano-key.in-scale .scale-degree {
  /* color: #1976d2; */
  color: black;
}

.piano-key.in-chord .scale-degree {
  /* color: #667eea; */
  color: black;
}

/* Responsive font sizes */
@media (max-width: 768px) {
  .key-label {
    font-size: 10px;
  }

  .note-name {
    font-size: 9px;
  }

  .scale-degree {
    font-size: 8px;
  }
}

@media (max-width: 480px) {
  .piano-key {
    padding-bottom: 0.25rem;
  }

  .key-label {
    font-size: 9px;
    gap: 0.15rem;
  }

  .note-name {
    font-size: 8px;
  }

  .scale-degree {
    font-size: 7px;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .piano-key {
    touch-action: manipulation;
  }
}
